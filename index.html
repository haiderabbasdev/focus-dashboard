<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Focus Dashboard â€” Personalized</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    :root{--bg1:#0d1117;--bg2:#0f1720;--card:#0f1724;--accent:#58a6ff;--muted:#9aa5b1;--glass:rgba(255,255,255,0.04)}
    *{box-sizing:border-box}
    body{margin:0;min-height:100vh;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:#e6eef6;display:flex;align-items:flex-start;justify-content:center;padding:28px}
    .wrap{width:100%;max-width:1100px}
    header{display:flex;gap:18px;align-items:center;justify-content:space-between;margin-bottom:12px}
    h1{margin:0;font-size:24px;color:var(--accent);letter-spacing:0.4px}
    .meta{display:flex;gap:12px;align-items:center}
    #clock{font-weight:600}
    .notice{background:linear-gradient(90deg, rgba(255,0,0,0.12), rgba(255,0,0,0.04));color:#ffd6d6;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,0,0,0.06);font-weight:700;margin-bottom:16px}
    .grid{display:grid;grid-template-columns:1fr 380px;gap:18px}
    .panel{background:var(--card);padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 10px 40px rgba(2,6,23,0.6)}
    .links-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px}
    .link{display:flex;gap:12px;align-items:center;padding:12px;border-radius:10px;background:var(--glass);text-decoration:none;color:inherit;border:1px solid rgba(255,255,255,0.03)}
    .link i{width:28px;text-align:center;color:var(--accent)}
    .big-buttons{display:flex;gap:12px;margin-bottom:14px}
    .btn{flex:1;padding:12px;border-radius:10px;background:linear-gradient(90deg,var(--accent),#3aa0ff);color:#031025;font-weight:800;text-align:center;cursor:pointer;box-shadow:0 6px 18px rgba(88,166,255,0.12);border:none}
    .timer{display:flex;flex-direction:column;align-items:center;gap:8px}
    .time-display{font-size:36px;font-weight:700}
    .timer-controls{display:flex;gap:8px}
    .control{padding:8px 10px;border-radius:8px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.03);cursor:pointer}
    .todo{display:flex;flex-direction:column;gap:8px}
    .todo label{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02)}
    textarea{width:100%;min-height:100px;padding:10px;background:transparent;border:1px dashed rgba(255,255,255,0.05);color:inherit;border-radius:8px}
    .small{font-size:13px;color:var(--muted)}
    .playlists{display:flex;flex-direction:column;gap:8px}
    .pl{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.02);text-decoration:none;color:inherit}
    footer{margin-top:16px;text-align:center;color:var(--muted);font-size:13px}
    /* sticky goals */
    .goals{margin-top:18px}
    .sticky-container{display:flex;gap:14px;flex-wrap:wrap;justify-content:flex-start}
    .sticky{background:linear-gradient(180deg,#fff4b8,#fff1a8);padding:12px;width:190px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.35);text-align:center;font-weight:700;color:#111;position:relative}
    .sticky img{width:100%;height:110px;object-fit:cover;border-radius:8px;margin-bottom:8px}
    .sticky .note{min-height:46px}
    .sticky .edit-btn{position:absolute;top:8px;right:8px;background:transparent;border:none;cursor:pointer;font-size:14px}
    .sticky input[type=file]{display:none}
    .sticky .small{font-size:12px;color:#444;font-weight:600}
    .roast-toggle{display:flex;gap:8px;align-items:center;margin-top:8px}
    /* idle overlay */
    .idle-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.7);z-index:9999;color:#fff;padding:20px;display:none}
    .idle-card{background:#111;padding:28px;border-radius:12px;max-width:720px;text-align:center}
    .idle-card h2{margin:0 0 10px 0;color:#ff7b7b}
    .idle-card p{margin:0 0 12px 0}
    .idle-card .insults{font-weight:800;color:#ffd6a6}
    @media(max-width:920px){.grid{grid-template-columns:1fr}.meta{display:none}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>ðŸ“š Focus Dashboard â€” Personal</h1>
        <div class="small">Your clean study homepage. Edit goals, upload images, get roasted if you idle.</div>
      </div>
      <div class="meta">
        <div id="date" class="small"></div>
        <div id="clock"></div>
      </div>
    </header>

    <div class="notice">No-distraction mode: This page contains only approved study links. If you're not studying â€” close this tab.</div>

    <div class="grid">
      <div class="panel">
        <div class="big-buttons">
          <button class="btn" data-action="physics">Start Boards: Physics</button>
          <button class="btn" data-action="chem">Start Boards: Chemistry</button>
          <button class="btn" data-action="math">Start Boards: Math</button>
        </div>

        <section style="margin-bottom:12px">
          <h3 style="margin:0 0 8px 0">Quick Study Links</h3>
          <div class="links-grid">
            <a class="link" href="https://www.youtube.com/@AshuGhai11th12th" target="_blank"><i class="fa-solid fa-book-open"></i><div><div>Ashu Ghai (11/12)</div><small class="small">JEE / Board theory</small></div></a>
            <a class="link" href="https://scienceandfun.live/" target="_blank"><i class="fa-solid fa-flask"></i><div><div>Science & Fun</div><small class="small">Concepts & demos</small></div></a>
            <a class="link" href="https://www.youtube.com/@codeitup" target="_blank"><i class="fa-solid fa-code"></i><div><div>Code It Up</div><small class="small">Problem solving</small></div></a>
            <a class="link" href="https://www.youtube.com/results?search_query=next+workout" target="_blank"><i class="fa-solid fa-play"></i><div><div>Next Workout</div><small class="small">Quick routines</small></div></a>
          </div>
        </section>

        <section style="margin-bottom:12px">
          <h3 style="margin:0 0 8px 0">Pomodoro Timer</h3>
          <div class="timer">
            <div class="time-display" id="timerDisplay">25:00</div>
            <div class="small">Mode: <span id="timerMode">Work</span></div>
            <div class="timer-controls">
              <button class="control" id="startBtn">Start</button>
              <button class="control" id="pauseBtn">Pause</button>
              <button class="control" id="stopBtn">Stop</button>
              <button class="control" id="skipBtn">Skip</button>
            </div>
            <div style="margin-top:8px" class="small">Auto-switches between 25/5 min. Use to protect deep focus.</div>
          </div>
        </section>

        <section>
          <h3 style="margin:0 0 8px 0">Daily Checklist</h3>
          <div class="todo" id="todoList"></div>
          <div style="margin-top:8px;display:flex;gap:8px">
            <input id="newTodo" placeholder="Add task (e.g. Physics 1 hr)" style="flex:1;padding:8px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:inherit">
            <button class="control" id="addTodo">Add</button>
          </div>
          <div class="small" style="margin-top:8px">Checklist auto-resets daily at midnight.</div>
        </section>

        <!-- Goals / Sticky notes -->
        <section class="goals">
          <h3 style="margin:0 0 8px 0">Goals (editable)</h3>
          <div class="sticky-container" id="stickyContainer">
            <!-- Sticky notes inserted by JS -->
          </div>
          <div style="margin-top:8px" class="small">Click the pencil to edit text or the image to upload your goal picture.</div>
        </section>

      </div>

      <aside>
        <div class="panel widget">
          <h4 style="margin:0 0 8px 0">Notes / Goals</h4>
          <textarea id="notes" placeholder="Today's target... (saved locally)"></textarea>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="control" id="saveNotes">Save</button>
            <button class="control" id="clearNotes">Clear</button>
          </div>
        </div>

        <div class="panel widget">
          <h4 style="margin:0 0 8px 0">Study Playlists</h4>
          <div class="playlists">
            <a class="pl" href="https://www.youtube.com/@AshuGhai11th12th" target="_blank"><i class="fa-brands fa-youtube"></i> Ashu Ghai Channel</a>
            <a class="pl" href="https://www.youtube.com/playlist?list=PLjcFFdEpfDiVKUKSmePKM5R36KRiT_guB" target="_blank"><i class="fa-solid fa-list"></i> Playlist 1</a>
            <a class="pl" href="https://www.youtube.com/playlist?list=PLjcFFdEpfDiW3sSJ8IN7byNguxrX08XGz" target="_blank"><i class="fa-solid fa-list"></i> Playlist 2</a>
            <a class="pl" href="https://scienceandfun.live/" target="_blank"><i class="fa-solid fa-globe"></i> Science & Fun</a>
          </div>
        </div>

        <div class="panel widget">
          <h4 style="margin:0 0 8px 0">Boards Countdown</h4>
          <div id="countdown" style="font-size:18px;font-weight:800"></div>
          <div class="small">Target date: <span id="targetDateDisplay">Mar 24, 2026</span></div>
        </div>

        <div class="panel widget">
          <h4 style="margin:0 0 8px 0">Idle Roast Mode</h4>
          <div class="small">When you idle for <span id="idleSecondsDisplay">90</span> seconds, the dashboard will roast you. Toggle if it annoys you.</div>
          <div class="roast-toggle"><label><input type="checkbox" id="toggleRoast"> Enable Roast</label></div>
          <div style="margin-top:10px"><button class="control" id="testRoast">Test Roast Now</button></div>
        </div>

        <div class="panel widget">
          <h4 style="margin:0 0 8px 0">Recently opened (local)</h4>
          <div id="recent" class="small"></div>
        </div>
      </aside>
    </div>

    <footer>Made for focus â€” links open in new tab. Your data (notes, checklist, goals) stay only on this device unless you upload them somewhere.</footer>
  </div>

  <!-- Idle roast overlay -->
  <div class="idle-overlay" id="idleOverlay">
    <div class="idle-card">
      <h2>Stop scrolling. Get to work.</h2>
      <p class="insults" id="insultText">You want this? Then do it â€” not tomorrow, now.</p>
      <div style="margin-top:12px"><button class="control" id="closeRoast">I'm back</button></div>
    </div>
  </div>

  <script>
    // --- Clock & Date ---
    function updateClock(){ const now=new Date(); document.getElementById('clock').textContent = now.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'}); document.getElementById('date').textContent = now.toLocaleDateString([], {weekday:'short', month:'short', day:'numeric'}); }
    setInterval(updateClock,1000); updateClock();

    // --- Quick action buttons mapping ---
    const quickMap = { 'physics': 'https://www.youtube.com/playlist?list=PLjcFFdEpfDiVKUKSmePKM5R36KRiT_guB', 'chem': 'https://www.youtube.com/playlist?list=PLjcFFdEpfDiW3sSJ8IN7byNguxrX08XGz', 'math': 'https://www.youtube.com/@AshuGhai11th12th' };
    document.querySelectorAll('.btn').forEach(b=>b.addEventListener('click', ()=>{ const link = quickMap[b.dataset.action]; if(link){ window.open(link,'_blank'); addRecent(link); }}));

    // --- Recent links ---
    function addRecent(url){ try{ const list=JSON.parse(localStorage.getItem('focus_recent')||'[]'); list.unshift({url:url,t:Date.now()}); const uniq = Array.from(new Map(list.map(i=>[i.url,i])).values()).slice(0,6); localStorage.setItem('focus_recent', JSON.stringify(uniq)); renderRecent(); }catch(e){} }
    function renderRecent(){ const list=JSON.parse(localStorage.getItem('focus_recent')||'[]'); const container=document.getElementById('recent'); if(!list.length){ container.innerHTML='<div class="small">No recent study links yet.</div>'; return } container.innerHTML=list.map(i=>`<div style="margin-bottom:6px"><a href="${i.url}" target="_blank" style="color:var(--accent);text-decoration:none">${i.url.replace(/https?:\/\//,'')}</a></div>`).join(''); }
    renderRecent();

    // --- Pomodoro ---
    let timerSec=25*60; let timerInterval=null; let mode='work'; const display=document.getElementById('timerDisplay'); const modeLabel=document.getElementById('timerMode');
    function formatTime(s){ const m=Math.floor(s/60); const ss=s%60; return `${String(m).padStart(2,'0')}:${String(ss).padStart(2,'0')}` }
    function tick(){ if(timerSec<=0){ if(mode==='work'){ mode='break'; timerSec=5*60; modeLabel.textContent='Break'; notify('Break time','Take 5 minutes'); } else { mode='work'; timerSec=25*60; modeLabel.textContent='Work'; notify('Work time','Start focused session'); } } timerSec--; display.textContent=formatTime(timerSec); }
    document.getElementById('startBtn').addEventListener('click', ()=>{ if('Notification' in window && Notification.permission!=='granted') Notification.requestPermission(); if(timerInterval) return; timerInterval=setInterval(tick,1000); });
    document.getElementById('pauseBtn').addEventListener('click', ()=>{ if(timerInterval){ clearInterval(timerInterval); timerInterval=null } });
    document.getElementById('stopBtn').addEventListener('click', ()=>{ if(timerInterval){ clearInterval(timerInterval); timerInterval=null } timerSec=25*60; mode='work'; modeLabel.textContent='Work'; display.textContent=formatTime(timerSec); });
    document.getElementById('skipBtn').addEventListener('click', ()=>{ if(timerInterval) clearInterval(timerInterval); timerInterval=null; if(mode==='work'){ mode='break'; timerSec=5*60 } else { mode='work'; timerSec=25*60 } display.textContent=formatTime(timerSec); modeLabel.textContent = mode==='work' ? 'Work' : 'Break'; });

    function notify(title, body){ try{ if('Notification' in window && Notification.permission==='granted'){ new Notification(title, {body: body}); } }catch(e){}
    }

    // --- Checklist ---
    const defaultTodos=['Physics â€” 1 hr','Chemistry â€” 1 hr','Math â€” 1 hr','Revision â€” 20 mins','Workout â€” 20 mins'];
    function loadTodos(){ const todayKey=(new Date()).toISOString().slice(0,10)+'_todos'; let data=JSON.parse(localStorage.getItem(todayKey)||'null'); if(!data){ data=defaultTodos.map(t=>({text:t,done:false})); localStorage.setItem(todayKey, JSON.stringify(data)); } renderTodos(data); }
    function renderTodos(data){ const wrap=document.getElementById('todoList'); wrap.innerHTML=''; data.forEach((item,idx)=>{ const label=document.createElement('label'); const chk=document.createElement('input'); chk.type='checkbox'; chk.checked=!!item.done; chk.addEventListener('change', ()=>{ item.done=chk.checked; saveTodos(data); }); label.appendChild(chk); const span=document.createElement('span'); span.textContent=' '+item.text; span.style.marginLeft='8px'; label.appendChild(span); wrap.appendChild(label); }); }
    function saveTodos(data){ const todayKey=(new Date()).toISOString().slice(0,10)+'_todos'; localStorage.setItem(todayKey, JSON.stringify(data)); }
    loadTodos();
    document.getElementById('addTodo').addEventListener('click', ()=>{ const t=document.getElementById('newTodo').value.trim(); if(!t) return; const todayKey=(new Date()).toISOString().slice(0,10)+'_todos'; const data=JSON.parse(localStorage.getItem(todayKey)||'[]'); data.push({text:t,done:false}); localStorage.setItem(todayKey, JSON.stringify(data)); document.getElementById('newTodo').value=''; loadTodos(); });

    // --- Notes ---
    const notesEl=document.getElementById('notes'); const notesKey='focus_notes'; notesEl.value=localStorage.getItem(notesKey)||''; document.getElementById('saveNotes').addEventListener('click', ()=>{ localStorage.setItem(notesKey, notesEl.value); alert('Saved locally.'); }); document.getElementById('clearNotes').addEventListener('click', ()=>{ if(confirm('Clear notes?')){ notesEl.value=''; localStorage.removeItem(notesKey); } });

    // --- Sticky goals (editable + image upload + persistence) ---
    const defaultGoals = [
      {id:'g1', title:'V-Taper Physique', note:'"You want this? Then WORK for it."', img:'https://images.unsplash.com/photo-1554299730-4f5d2d1f1f0a?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=6a6a3c6a6a6a6a6a'},
      {id:'g2', title:'GT 650', note:'"Dream hai? Toh scroll kam, grind zyada."', img:'https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=abcdabcdabcdabcd'},
      {id:'g3', title:'BMW 7 Series', note:'"Bhai ye khud aa kar driveway me ni ghusega."', img:'https://images.unsplash.com/photo-1542367597-3efa2f1ae6f9?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=efghefghefghefgh'},
      {id:'g4', title:'Boards 98%', note:'"Kal se padhunga bolke kitni baar bevakoof banega?"', img:'https://images.unsplash.com/photo-1516979187457-637abb4f9353?q=80&w=800&auto=format&fit=crop&ixlib=rb-4.0.3&s=hijklmnop'}
    ];

    function loadGoals(){ const key='focus_goals'; let data=JSON.parse(localStorage.getItem(key)||'null'); if(!data){ data=defaultGoals; localStorage.setItem(key, JSON.stringify(data)); } renderGoals(data); }
    function renderGoals(list){ const container=document.getElementById('stickyContainer'); container.innerHTML=''; list.forEach(g=>{
      const div=document.createElement('div'); div.className='sticky'; div.dataset.id=g.id;
      const img=document.createElement('img'); img.src=g.img; img.alt=g.title; img.addEventListener('click', ()=>{ // file input to change
        const fileInput = document.createElement('input'); fileInput.type='file'; fileInput.accept='image/*'; fileInput.addEventListener('change', (ev)=>{ const f=ev.target.files[0]; if(!f) return; const reader=new FileReader(); reader.onload=function(e){ g.img=e.target.result; saveGoals(list); renderGoals(list); }; reader.readAsDataURL(f); }); fileInput.click();
      });
      const btn=document.createElement('button'); btn.className='edit-btn'; btn.innerHTML='âœï¸'; btn.title='Edit text'; btn.addEventListener('click', ()=>{ const txt = prompt('Edit goal text', g.note); if(txt!==null){ g.note = txt; saveGoals(list); renderGoals(list); } });
      const p=document.createElement('div'); p.className='note'; p.contentEditable=false; p.textContent=g.title+"
"+g.note;
      const small=document.createElement('div'); small.className='small'; small.textContent='Click image to replace';
      div.appendChild(img); div.appendChild(btn); div.appendChild(p); div.appendChild(small);
      container.appendChild(div);
    }); }
    function saveGoals(data){ localStorage.setItem('focus_goals', JSON.stringify(data)); }
    loadGoals();

    // --- Boards Countdown ---
    // Using March 24, 2026 as target (changeable)
    const targetDate = new Date('2026-03-24T00:00:00'); document.getElementById('targetDateDisplay').textContent = targetDate.toDateString();
    function updateCountdown(){ const now=new Date(); let diff = Math.max(0, Math.floor((targetDate - now)/1000)); const days=Math.floor(diff/86400); diff%=86400; const hrs=Math.floor(diff/3600); diff%=3600; const mins=Math.floor(diff/60); const secs=diff%60; document.getElementById('countdown').textContent = `${days}d ${hrs}h ${mins}m ${secs}s`; }
    setInterval(updateCountdown,1000); updateCountdown();

    // --- Idle roast mode ---
    const idleOverlay = document.getElementById('idleOverlay'); const insultText = document.getElementById('insultText'); const toggleRoast = document.getElementById('toggleRoast'); const idleSecondsDisplay = document.getElementById('idleSecondsDisplay'); const testRoast = document.getElementById('testRoast'); let idleSeconds = parseInt(localStorage.getItem('idle_seconds')||'90',10); idleSecondsDisplay.textContent = idleSeconds; let roastEnabled = (localStorage.getItem('roast_enabled')||'true')==='true'; toggleRoast.checked = roastEnabled;
    const insults = [
      "You want luxury? Then stop scrolling and start grinding.",
      "If exams gave out trophies for excuses, you'd still miss those too.",
      "Dreams don't chase the lazy. Move your ass.",
      "Looks like your future called â€” it wants you to focus.",
      "You said 'tomorrow' so many times the word filed a complaint."
    ];
    let idleTimer = null; let lastActivity = Date.now();
    function resetIdle(){ lastActivity = Date.now(); if(idleOverlay.style.display==='flex'){ idleOverlay.style.display='none'; }
      if(idleTimer) clearTimeout(idleTimer); if(roastEnabled){ idleTimer = setTimeout(showRoast, idleSeconds*1000); }
    }
    function showRoast(){ const r = insults[Math.floor(Math.random()*insults.length)]; insultText.textContent = r; idleOverlay.style.display='flex'; try{ new Audio('https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg').play(); }catch(e){} }
    document.addEventListener('mousemove', resetIdle); document.addEventListener('keydown', resetIdle); document.addEventListener('scroll', resetIdle); document.addEventListener('click', resetIdle);
    toggleRoast.addEventListener('change', ()=>{ roastEnabled = toggleRoast.checked; localStorage.setItem('roast_enabled', roastEnabled); if(!roastEnabled){ if(idleTimer) clearTimeout(idleTimer); idleOverlay.style.display='none'; } else { resetIdle(); } });
    document.getElementById('closeRoast').addEventListener('click', ()=>{ idleOverlay.style.display='none'; resetIdle(); }); testRoast.addEventListener('click', ()=>{ showRoast(); }); resetIdle();

    // --- Save / load notes and other state handled earlier ---
    // Save notes
    const notesKey = 'focus_notes'; notesEl.value = localStorage.getItem(notesKey)||'';
    document.getElementById('saveNotes').addEventListener('click', ()=>{ localStorage.setItem(notesKey, notesEl.value); alert('Saved locally.'); });

    // --- Recent link tracking: addRecent used previously ---
    document.body.addEventListener('click', e=>{ const a = e.target.closest('a'); if(a && a.href){ addRecent(a.href); } });

    // --- Testing helper: allow changing idle seconds via prompt by double-clicking seconds display ---
    idleSecondsDisplay.addEventListener('dblclick', ()=>{ const v = prompt('Set idle seconds', String(idleSeconds)); if(v!==null){ const n = parseInt(v,10); if(!isNaN(n) && n>10){ idleSeconds = n; localStorage.setItem('idle_seconds', String(n)); idleSecondsDisplay.textContent = n; resetIdle(); } else alert('Enter a number > 10'); } });

    // --- ensure Notification permissions prompt
    if('Notification' in window && Notification.permission !== 'granted'){ try{ Notification.requestPermission(); }catch(e){} }

  </script>
</body>
</html>
